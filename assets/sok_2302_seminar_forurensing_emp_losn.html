<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Andrea Mannberg">

<title>SOK-2302 Seminar - Forurensing — Empirisk oppgave</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="sok_2302_seminar_forurensing_emp_losn_files/libs/clipboard/clipboard.min.js"></script>
<script src="sok_2302_seminar_forurensing_emp_losn_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="sok_2302_seminar_forurensing_emp_losn_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="sok_2302_seminar_forurensing_emp_losn_files/libs/quarto-html/popper.min.js"></script>
<script src="sok_2302_seminar_forurensing_emp_losn_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="sok_2302_seminar_forurensing_emp_losn_files/libs/quarto-html/anchor.min.js"></script>
<link href="sok_2302_seminar_forurensing_emp_losn_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="sok_2302_seminar_forurensing_emp_losn_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="sok_2302_seminar_forurensing_emp_losn_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="sok_2302_seminar_forurensing_emp_losn_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="sok_2302_seminar_forurensing_emp_losn_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="sok_2302_seminar_forurensing_emp_losn_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="sok_2302_seminar_forurensing_emp_losn_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="sok_2302_seminar_forurensing_emp_losn_files/libs/plotly-binding-4.11.0/plotly.js"></script>

<script src="sok_2302_seminar_forurensing_emp_losn_files/libs/typedarray-0.1/typedarray.min.js"></script>

<script src="sok_2302_seminar_forurensing_emp_losn_files/libs/jquery-3.5.1/jquery.min.js"></script>

<link href="sok_2302_seminar_forurensing_emp_losn_files/libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">

<script src="sok_2302_seminar_forurensing_emp_losn_files/libs/crosstalk-1.2.2/js/crosstalk.min.js"></script>

<link href="sok_2302_seminar_forurensing_emp_losn_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">

<script src="sok_2302_seminar_forurensing_emp_losn_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>



</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduksjon" id="toc-introduksjon" class="nav-link active" data-scroll-target="#introduksjon">Introduksjon</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a>
  <ul class="collapse">
  <li><a href="#oppgave-1" id="toc-oppgave-1" class="nav-link" data-scroll-target="#oppgave-1">Oppgave 1</a></li>
  <li><a href="#oppgave-2" id="toc-oppgave-2" class="nav-link" data-scroll-target="#oppgave-2">Oppgave 2</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">SOK-2302 Seminar - Forurensing — Empirisk oppgave</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Andrea Mannberg </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="introduksjon" class="level1">
<h1>Introduksjon</h1>
<p>I denne oppgaven skal vi se på utslippsrettigheter i EU ETS og utslipp av klimagass i Europeiske land.</p>
</section>
<section id="data" class="level1">
<h1>Data</h1>
<p>Du finner data til oppgaven på European Environmental Agency sin hjemmeside: <a href="https://www.eea.europa.eu/en">EEA hjemmeside</a></p>
<p>Du finner data knyttet til handel med utslippsrettigheter blant annet under “datahub”, direktlenke her: <a href="https://www.eea.europa.eu/en/datahub/datahubitem-view/98f04097-26de-4fca-86c4-63834818c0c0">EEA Datahub</a></p>
<p>Last ned “dataviewer_data_july25.csv”</p>
<p>Datamaterialet innholder informasjon om “Total allocated allowances (EUA or EUAA)” og “Verified emissions”. “Free allowances” er de utslippsrettigheter som blir delt ut gratis innen EU ETS. “Verified emissions” er de faktiske utslipp som skjer i et år. Dersom et land (eller sektor) har høyere utslipp enn de får tildelt utslippsrettigheter må landet (sektoren) kjøpe utslippsrettigheter på markedet. I oppgavene skal vi se på hvordan utviklingen i utslipp og tildelte utslippsrettigheter har utviklet seg i EU totalt, nordiske land, og i Norge over tid.</p>
<p>Datamaterialet er stort og jeg fikk problemer når jeg prøvde å laste det inn i R-studioen. Koden under, som jeg har lagd til dels med hjelp fra ChatGPT5.0, viser hvordan du kan bruke pakken “vroom” til å laste inn deler av datamaterialet. Koden lager et datasett med alle variabler som trengs til oppgavene.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Installer pakkene hvis nødvendig (første gang)</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(c("readr","dplyr","tidyr","stringr","vroom","ggplot2","scales","tidyverse", "plotly"))</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(vroom)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"C:/Users/ama123/OneDrive - UiT Office 365/Data/Undervisning/sok_2032_necon/"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>ets_all_raw <span class="ot">&lt;-</span> <span class="fu">vroom</span>(</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"dataviewer_data_july25.csv"</span>,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_select =</span> <span class="fu">c</span>(<span class="st">"country"</span>,<span class="st">"ETS information"</span>, <span class="st">"main activity sector name"</span>, <span class="st">"unit"</span>, <span class="st">"value"</span>, <span class="st">"year"</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>)<span class="sc">%&gt;%</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">ETS_information =</span> <span class="st">`</span><span class="at">ETS information</span><span class="st">`</span>,</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">sector =</span> <span class="st">'main activity sector name'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Det ferdige datamaterialet skal innholde 6 variabler: “country” = land, “ETS_information” = type ETS informasjon, “sektor” = sektor der utslippene skjer, “unit” = måle-enhet, “value” = verdi på variabelen, og “year” = år.</p>
<section id="oppgave-1" class="level2">
<h2 class="anchored" data-anchor-id="oppgave-1">Oppgave 1</h2>
<p>I denne oppgaven skal vi lage en graf som visualiserer de nordiske landenes “handel” med utslippsrettigheter innen EU ETS. Målet er å lage en graf som viser om landene hadde flere utslippsrettigheter enn de hadde behov for et år, eller om de hadde behov for å kjøpe utslippsrettigheter på markedet. Grafen vil ikke gi et helt korrekt bilde da det er mulig å “spare” utslippsrettigheter over tid.</p>
<ol type="1">
<li><p>Lag en dataframe med informasjon om “1.1 Freely allocated allowances” og “2. Verified emissions” for Norge, Finland, Sverige og Danmark. “1.1 Freely allocated allowances” inneholder informasjon om hvor mange utslippsrettigheter som bedrifter i landene får gratis tildelt. “2. Verified emissions” gir informasjon om faktiske uslipp. Velg sektoren “20-99 All stationary installations” for å få aggregert informasjon om alle sektorer i hvert land.</p></li>
<li><p>Beregn nettot av “1.1 Freely allocated allowances” og “2. Verified emissions” for hvert land og år. NB: for å gjøre dette må du omstrukturere data slik at “1.1 Freely allocated allowances” og “2. Verified emissions” er to ulike variabler på samme rad for et land og år.</p></li>
<li><p>Lag en graf som viser nettot i de ulike landene for de årene som er tilgjengelige i datamaterialet.</p></li>
<li><p>Tolke grafen i forhold til handel med utslippsrettigheter. Hvem har behov for å kjøpe og selge utslippsrettigheter? Er det noen land som ser ut å ha større behov? Ser det ut å være noen trender i handelen?</p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>nordic_countries <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Finland"</span>, <span class="st">"Norway"</span>, <span class="st">"Denmark"</span>, <span class="st">"Sweden"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>years <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"2013"</span>, <span class="st">"2014"</span>, <span class="st">"2015"</span>, <span class="st">"2016"</span>, <span class="st">"2017"</span>, <span class="st">"2018"</span>, <span class="st">"2019"</span>, <span class="st">"2020"</span>, <span class="st">"2021"</span>, <span class="st">"2022"</span>, <span class="st">"2023"</span>, <span class="st">"2024"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>allowances_emissions <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1.1 Freely allocated allowances"</span>, <span class="st">"2. Verified emissions"</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>all_sectors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"20-99 All stationary installations"</span>)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>country_order <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Denmark"</span>, <span class="st">"Finland"</span>, <span class="st">"Norway"</span>, <span class="st">"Sweden"</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>ets_nordic <span class="ot">&lt;-</span> ets_all_raw <span class="sc">%&gt;%</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">%in%</span> nordic_countries)<span class="sc">%&gt;%</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(ETS_information <span class="sc">%in%</span> allowances_emissions)<span class="sc">%&gt;%</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> years)<span class="sc">%&gt;%</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sector <span class="sc">%in%</span> all_sectors)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co">#head(ets_nordic)</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Dataframe med nettot av gratis utslippsrettigheter og utslipp i de nordiske landene</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>ets_balance <span class="ot">&lt;-</span> ets_nordic <span class="sc">%&gt;%</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Behold de variabler vi trenger</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(country, ETS_information, value, year) <span class="sc">%&gt;%</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Reshape so that emissions and allowances are in separate columns</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">pivot_wider</span>(</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> ETS_information,</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> value</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Gi nye navn for enklere bruk seinere</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">emissions =</span> <span class="st">`</span><span class="at">2. Verified emissions</span><span class="st">`</span>,</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">free_allowances =</span> <span class="st">`</span><span class="at">1.1 Freely allocated allowances</span><span class="st">`</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Beregn netto</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">trade_balance =</span> free_allowances <span class="sc">-</span> emissions</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="bar-plot" class="level4">
<h4 class="anchored" data-anchor-id="bar-plot">Bar plot</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>country_order <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Denmark"</span>, <span class="st">"Finland"</span>, <span class="st">"Norway"</span>, <span class="st">"Sweden"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># PLOT</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>plot_trade <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ets_balance, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> trade_balance, <span class="at">fill =</span> country)) <span class="sc">+</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span>  <span class="co"># Create side-by-side bars</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"År"</span>,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">" Salg av utslippsrettigheter (kilo ton CO2-ekv) "</span>,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Handel med utslippsrettigheter"</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Denmark"</span> <span class="ot">=</span> <span class="st">"hotpink"</span>, <span class="st">"Finland"</span> <span class="ot">=</span> <span class="st">"violetred"</span>, <span class="st">"Norway"</span> <span class="ot">=</span> <span class="st">"darkmagenta"</span>, </span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Sweden"</span> <span class="ot">=</span> <span class="st">"blueviolet"</span>),</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> country_order,  <span class="co"># Ensure legend matches the factor_levels</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> country_order,  <span class="co"># Ensure labels match the factor_levels</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">guide =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="cn">NULL</span>)  <span class="co"># Remove legend title</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span>   <span class="co"># avoid scientific notation</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() </span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(plot_trade)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sok_2302_seminar_forurensing_emp_losn_files/figure-html/plot_trade_nordic-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="line-plot" class="level4">
<h4 class="anchored" data-anchor-id="line-plot">Line plot</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># PLOT</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>plot_trade_line <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ets_balance, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> trade_balance, <span class="at">color =</span> country, <span class="at">group =</span> country)) <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span>        <span class="co"># line for each country</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span>       <span class="co"># add points for each year</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"År"</span>,</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Salg av utslippsrettigheter (kilo ton CO2-ekv)"</span>,</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Handel med utslippsrettigheter"</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Denmark"</span> <span class="ot">=</span> <span class="st">"hotpink"</span>, <span class="st">"Finland"</span> <span class="ot">=</span> <span class="st">"violetred"</span>, <span class="st">"Norway"</span> <span class="ot">=</span> <span class="st">"darkmagenta"</span>, </span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Sweden"</span> <span class="ot">=</span> <span class="st">"blueviolet"</span>),</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> country_order,</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> country_order,</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">guide =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="cn">NULL</span>)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span>  <span class="co"># line at zero</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span>  <span class="co"># avoid scientific notation</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(plot_trade_line)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sok_2302_seminar_forurensing_emp_losn_files/figure-html/plot_trade_line-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="interaktiv-plot" class="level4">
<h4 class="anchored" data-anchor-id="interaktiv-plot">Interaktiv plot</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmlwidgets)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>country_order <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Denmark"</span>,<span class="st">"Finland"</span>,<span class="st">"Norway"</span>,<span class="st">"Sweden"</span>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ets_balance <span class="sc">%&gt;%</span> <span class="fu">filter</span>(country <span class="sc">%in%</span> country_order),</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(year), <span class="at">y =</span> trade_balance, <span class="at">color =</span> country, <span class="at">group =</span> country,</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">text =</span> <span class="fu">paste0</span>(<span class="st">"Country: "</span>, country, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Year: "</span>, year, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Trade (kton): "</span>, scales<span class="sc">::</span><span class="fu">comma</span>(<span class="fu">round</span>(trade_balance<span class="sc">/</span><span class="dv">1000</span>,<span class="dv">2</span>))))</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Denmark"</span> <span class="ot">=</span> <span class="st">"hotpink"</span>, <span class="st">"Finland"</span> <span class="ot">=</span> <span class="st">"violetred"</span>,</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Norway"</span> <span class="ot">=</span> <span class="st">"darkmagenta"</span>, <span class="st">"Sweden"</span> <span class="ot">=</span> <span class="st">"blueviolet"</span>),</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> country_order) <span class="sc">+</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"År"</span>, <span class="at">y =</span> <span class="st">"Salg av utslippsrettigheter (tonn CO2-ekv)"</span>,</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Handel med utslippsrettigheter"</span>) <span class="sc">+</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span>  </span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>gg <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(p, <span class="at">tooltip =</span> <span class="st">"text"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(<span class="at">hovermode =</span> <span class="st">"x unified"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">displayModeBar =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="co"># JavaScript: on click add/update vertical line at clicked x coordinate</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>js <span class="ot">&lt;-</span> <span class="st">"</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a><span class="st">function(el, x) {</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a><span class="st">  var plot = el;</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a><span class="st">  plot.on('plotly_click', function(data) {</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a><span class="st">    if(!data || !data.points || data.points.length === 0) return;</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a><span class="st">    var xval = data.points[0].x;</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a><span class="st">    // create a vertical line as a shape</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a><span class="st">    var vline = {</span></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a><span class="st">      type: 'line',</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a><span class="st">      x0: xval, x1: xval,</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a><span class="st">      y0: 0, y1: 1,</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a><span class="st">      xref: 'x', yref: 'paper',</span></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a><span class="st">      line: {color: 'black', width: 1.5, dash: 'dot'}</span></span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a><span class="st">    };</span></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a><span class="st">    // keep any existing shapes except previous click-line, or replace by id approach:</span></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a><span class="st">    var shapes = (plot.layout.shapes || []).filter(function(s){ return s.name !== 'click_vline'; });</span></span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a><span class="st">    vline.name = 'click_vline';</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a><span class="st">    shapes.push(vline);</span></span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a><span class="st">    Plotly.relayout(plot, {'shapes': shapes});</span></span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a><span class="st">  });</span></span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a><span class="st">}</span></span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a><span class="st">"</span></span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a><span class="co"># attach the JS</span></span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>gg <span class="ot">&lt;-</span> <span class="fu">onRender</span>(gg, js)</span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>gg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-ccd17f92495162716cfb" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-ccd17f92495162716cfb">{"x":{"data":[{"x":[2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[-9375626,-7315884,-6158593,-8301974,-6771509,-7227926,-4898655,-4382828,-6740034,-6292760,-4486351,-3856125],"text":["Country: Denmark<br>Year: 2013<br>Trade (kton): -9,375.6","Country: Denmark<br>Year: 2014<br>Trade (kton): -7,315.9","Country: Denmark<br>Year: 2015<br>Trade (kton): -6,158.6","Country: Denmark<br>Year: 2016<br>Trade (kton): -8,302.0","Country: Denmark<br>Year: 2017<br>Trade (kton): -6,771.5","Country: Denmark<br>Year: 2018<br>Trade (kton): -7,227.9","Country: Denmark<br>Year: 2019<br>Trade (kton): -4,898.7","Country: Denmark<br>Year: 2020<br>Trade (kton): -4,382.8","Country: Denmark<br>Year: 2021<br>Trade (kton): -6,740.0","Country: Denmark<br>Year: 2022<br>Trade (kton): -6,292.8","Country: Denmark<br>Year: 2023<br>Trade (kton): -4,486.4","Country: Denmark<br>Year: 2024<br>Trade (kton): -3,856.1"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(255,105,180,1)","dash":"solid"},"hoveron":"points","name":"Denmark","legendgroup":"Denmark","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[-8430364,-7000791,-5248863,-8152391,-6968295,-9193276,-7137236,-4260767,-7539863,-5930947,-2535609,-1074361],"text":["Country: Finland<br>Year: 2013<br>Trade (kton): -8,430.4","Country: Finland<br>Year: 2014<br>Trade (kton): -7,000.8","Country: Finland<br>Year: 2015<br>Trade (kton): -5,248.9","Country: Finland<br>Year: 2016<br>Trade (kton): -8,152.4","Country: Finland<br>Year: 2017<br>Trade (kton): -6,968.3","Country: Finland<br>Year: 2018<br>Trade (kton): -9,193.3","Country: Finland<br>Year: 2019<br>Trade (kton): -7,137.2","Country: Finland<br>Year: 2020<br>Trade (kton): -4,260.8","Country: Finland<br>Year: 2021<br>Trade (kton): -7,539.9","Country: Finland<br>Year: 2022<br>Trade (kton): -5,930.9","Country: Finland<br>Year: 2023<br>Trade (kton): -2,535.6","Country: Finland<br>Year: 2024<br>Trade (kton): -1,074.4"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(208,32,144,1)","dash":"solid"},"hoveron":"points","name":"Finland","legendgroup":"Finland","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[-7003352,-7594915,-8643703,-8113721,-9178853,-8982142,-8544794,-7894113,-10836487,-10749750,-9610939,-8736110],"text":["Country: Norway<br>Year: 2013<br>Trade (kton): -7,003.4","Country: Norway<br>Year: 2014<br>Trade (kton): -7,594.9","Country: Norway<br>Year: 2015<br>Trade (kton): -8,643.7","Country: Norway<br>Year: 2016<br>Trade (kton): -8,113.7","Country: Norway<br>Year: 2017<br>Trade (kton): -9,178.8","Country: Norway<br>Year: 2018<br>Trade (kton): -8,982.1","Country: Norway<br>Year: 2019<br>Trade (kton): -8,544.8","Country: Norway<br>Year: 2020<br>Trade (kton): -7,894.1","Country: Norway<br>Year: 2021<br>Trade (kton): -10,836.5","Country: Norway<br>Year: 2022<br>Trade (kton): -10,749.8","Country: Norway<br>Year: 2023<br>Trade (kton): -9,610.9","Country: Norway<br>Year: 2024<br>Trade (kton): -8,736.1"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(139,0,139,1)","dash":"solid"},"hoveron":"points","name":"Norway","legendgroup":"Norway","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[8938180,8075338,6354551,4554924,3397325,1783742,1816499,2483690,-1626422,-803152,202011,178529],"text":["Country: Sweden<br>Year: 2013<br>Trade (kton): 8,938.2","Country: Sweden<br>Year: 2014<br>Trade (kton): 8,075.3","Country: Sweden<br>Year: 2015<br>Trade (kton): 6,354.6","Country: Sweden<br>Year: 2016<br>Trade (kton): 4,554.9","Country: Sweden<br>Year: 2017<br>Trade (kton): 3,397.3","Country: Sweden<br>Year: 2018<br>Trade (kton): 1,783.7","Country: Sweden<br>Year: 2019<br>Trade (kton): 1,816.5","Country: Sweden<br>Year: 2020<br>Trade (kton): 2,483.7","Country: Sweden<br>Year: 2021<br>Trade (kton): -1,626.4","Country: Sweden<br>Year: 2022<br>Trade (kton): -803.1","Country: Sweden<br>Year: 2023<br>Trade (kton): 202.0","Country: Sweden<br>Year: 2024<br>Trade (kton): 178.5"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(138,43,226,1)","dash":"solid"},"hoveron":"points","name":"Sweden","legendgroup":"Sweden","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2014,2017,2021,2013,2018,2020,2015,2024,2016,2019,2023,2022],"y":[-7315884,-6771509,-6740034,-9375626,-7227926,-4382828,-6158593,-3856125,-8301974,-4898655,-4486351,-6292760],"text":["Country: Denmark<br>Year: 2014<br>Trade (kton): -7,315.9","Country: Denmark<br>Year: 2017<br>Trade (kton): -6,771.5","Country: Denmark<br>Year: 2021<br>Trade (kton): -6,740.0","Country: Denmark<br>Year: 2013<br>Trade (kton): -9,375.6","Country: Denmark<br>Year: 2018<br>Trade (kton): -7,227.9","Country: Denmark<br>Year: 2020<br>Trade (kton): -4,382.8","Country: Denmark<br>Year: 2015<br>Trade (kton): -6,158.6","Country: Denmark<br>Year: 2024<br>Trade (kton): -3,856.1","Country: Denmark<br>Year: 2016<br>Trade (kton): -8,302.0","Country: Denmark<br>Year: 2019<br>Trade (kton): -4,898.7","Country: Denmark<br>Year: 2023<br>Trade (kton): -4,486.4","Country: Denmark<br>Year: 2022<br>Trade (kton): -6,292.8"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,105,180,1)","opacity":0.80000000000000004,"size":15.118110236220474,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,105,180,1)"}},"hoveron":"points","name":"Denmark","legendgroup":"Denmark","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2013,2014,2018,2021,2015,2016,2024,2017,2019,2020,2022,2023],"y":[-8430364,-7000791,-9193276,-7539863,-5248863,-8152391,-1074361,-6968295,-7137236,-4260767,-5930947,-2535609],"text":["Country: Finland<br>Year: 2013<br>Trade (kton): -8,430.4","Country: Finland<br>Year: 2014<br>Trade (kton): -7,000.8","Country: Finland<br>Year: 2018<br>Trade (kton): -9,193.3","Country: Finland<br>Year: 2021<br>Trade (kton): -7,539.9","Country: Finland<br>Year: 2015<br>Trade (kton): -5,248.9","Country: Finland<br>Year: 2016<br>Trade (kton): -8,152.4","Country: Finland<br>Year: 2024<br>Trade (kton): -1,074.4","Country: Finland<br>Year: 2017<br>Trade (kton): -6,968.3","Country: Finland<br>Year: 2019<br>Trade (kton): -7,137.2","Country: Finland<br>Year: 2020<br>Trade (kton): -4,260.8","Country: Finland<br>Year: 2022<br>Trade (kton): -5,930.9","Country: Finland<br>Year: 2023<br>Trade (kton): -2,535.6"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(208,32,144,1)","opacity":0.80000000000000004,"size":15.118110236220474,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(208,32,144,1)"}},"hoveron":"points","name":"Finland","legendgroup":"Finland","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2013,2015,2018,2022,2023,2017,2019,2024,2020,2016,2021,2014],"y":[-7003352,-8643703,-8982142,-10749750,-9610939,-9178853,-8544794,-8736110,-7894113,-8113721,-10836487,-7594915],"text":["Country: Norway<br>Year: 2013<br>Trade (kton): -7,003.4","Country: Norway<br>Year: 2015<br>Trade (kton): -8,643.7","Country: Norway<br>Year: 2018<br>Trade (kton): -8,982.1","Country: Norway<br>Year: 2022<br>Trade (kton): -10,749.8","Country: Norway<br>Year: 2023<br>Trade (kton): -9,610.9","Country: Norway<br>Year: 2017<br>Trade (kton): -9,178.8","Country: Norway<br>Year: 2019<br>Trade (kton): -8,544.8","Country: Norway<br>Year: 2024<br>Trade (kton): -8,736.1","Country: Norway<br>Year: 2020<br>Trade (kton): -7,894.1","Country: Norway<br>Year: 2016<br>Trade (kton): -8,113.7","Country: Norway<br>Year: 2021<br>Trade (kton): -10,836.5","Country: Norway<br>Year: 2014<br>Trade (kton): -7,594.9"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(139,0,139,1)","opacity":0.80000000000000004,"size":15.118110236220474,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(139,0,139,1)"}},"hoveron":"points","name":"Norway","legendgroup":"Norway","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2016,2018,2015,2019,2021,2022,2024,2017,2023,2020,2013,2014],"y":[4554924,1783742,6354551,1816499,-1626422,-803152,178529,3397325,202011,2483690,8938180,8075338],"text":["Country: Sweden<br>Year: 2016<br>Trade (kton): 4,554.9","Country: Sweden<br>Year: 2018<br>Trade (kton): 1,783.7","Country: Sweden<br>Year: 2015<br>Trade (kton): 6,354.6","Country: Sweden<br>Year: 2019<br>Trade (kton): 1,816.5","Country: Sweden<br>Year: 2021<br>Trade (kton): -1,626.4","Country: Sweden<br>Year: 2022<br>Trade (kton): -803.1","Country: Sweden<br>Year: 2024<br>Trade (kton): 178.5","Country: Sweden<br>Year: 2017<br>Trade (kton): 3,397.3","Country: Sweden<br>Year: 2023<br>Trade (kton): 202.0","Country: Sweden<br>Year: 2020<br>Trade (kton): 2,483.7","Country: Sweden<br>Year: 2013<br>Trade (kton): 8,938.2","Country: Sweden<br>Year: 2014<br>Trade (kton): 8,075.3"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(138,43,226,1)","opacity":0.80000000000000004,"size":15.118110236220474,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(138,43,226,1)"}},"hoveron":"points","name":"Sweden","legendgroup":"Sweden","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2012.45,2024.55],"y":[0,0],"text":"","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)","dash":"dash"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826491,"l":89.863013698630155},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Handel med utslippsrettigheter","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[2012.45,2024.55],"tickmode":"array","ticktext":["2012.5","2015.0","2017.5","2020.0","2022.5"],"tickvals":[2012.5,2015,2017.5,2020,2022.5],"categoryorder":"array","categoryarray":["2012.5","2015.0","2017.5","2020.0","2022.5"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"År","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-11825220.35,9926913.3499999996],"tickmode":"array","ticktext":["-10,000,000","-5,000,000","0","5,000,000"],"tickvals":[-10000000,-5000000,0,5000000.0000000019],"categoryorder":"array","categoryarray":["-10,000,000","-5,000,000","0","5,000,000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Salg av utslippsrettigheter (tonn CO2-ekv)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"country","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"x unified","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"displayModeBar":true},"source":"A","attrs":{"7dc630d1d90":{"x":{},"y":{},"colour":{},"text":{},"type":"scatter"},"7dc27e42ebd":{"x":{},"y":{},"colour":{},"text":{}},"7dc6e6121d8":{"yintercept":{}}},"cur_data":"7dc630d1d90","visdat":{"7dc630d1d90":["function (y) ","x"],"7dc27e42ebd":["function (y) ","x"],"7dc6e6121d8":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":{"render":[{"code":"\nfunction(el, x) {\n  var plot = el;\n  plot.on('plotly_click', function(data) {\n    if(!data || !data.points || data.points.length === 0) return;\n    var xval = data.points[0].x;\n    // create a vertical line as a shape\n    var vline = {\n      type: 'line',\n      x0: xval, x1: xval,\n      y0: 0, y1: 1,\n      xref: 'x', yref: 'paper',\n      line: {color: 'black', width: 1.5, dash: 'dot'}\n    };\n    // keep any existing shapes except previous click-line, or replace by id approach:\n    var shapes = (plot.layout.shapes || []).filter(function(s){ return s.name !== 'click_vline'; });\n    vline.name = 'click_vline';\n    shapes.push(vline);\n    Plotly.relayout(plot, {'shapes': shapes});\n  });\n}\n","data":null}]}}</script>
</div>
</div>
</section>
</section>
<section id="oppgave-2" class="level2">
<h2 class="anchored" data-anchor-id="oppgave-2">Oppgave 2</h2>
<p>I denne oppgaven skal vi se litt nærmere på hvordan utslippene i Norge har utviklet seg i ulike sektorer over tid.</p>
<ol type="1">
<li>Lag en dataframe med informasjon for Norge. Velg ut informasjon for alle sektorer i Norge (og fjern “20-99 All stationary installations”).</li>
<li>Lag en graf som viser utslippene av CO2-ekvivalenter i de ulike sektorene over tid. Tips: bruke “facet_wrap(~sector, scales =”free_y”)” for å lage en graf per sektor og la y-akselen variere mellom grafene.</li>
<li>Hvordan skal vi tolke disse grafene? Ser du noen fordeler og/eller ulemper med å bruke scales = “free_y” når vi skal tolke grafene?</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>Norway <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Norway"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  emissions <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"2. Verified emissions"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  sectors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"10 Aviation"</span>, </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">"20 Combustion of fuels"</span>, </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>               <span class="st">"21  Refining of mineral oil"</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>               <span class="st">"24  Production of pig iron or steel"</span>, </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>               <span class="st">"29 Production of cement clinker"</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>               <span class="st">"31 Manufacture of glass"</span>, </span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>               <span class="st">"30 Production of lime, or calcination of dolomite/magnesite"</span>, </span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>               <span class="st">"32 Manufacture of ceramics"</span>, </span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>               <span class="st">"34 Production or processing of gypsum or plasterboard"</span>,</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>               <span class="st">"35 Production of pulp"</span>, </span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>               <span class="st">"36 Production of paper or cardboard"</span>,  </span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>               <span class="st">"42 Production of bulk chemicals"</span>)</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  ets_norway <span class="ot">&lt;-</span> ets_all_raw <span class="sc">%&gt;%</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(country <span class="sc">%in%</span> Norway) <span class="sc">%&gt;%</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(ETS_information <span class="sc">%in%</span> emissions)<span class="sc">%&gt;%</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(sector<span class="sc">%in%</span> sectors )<span class="sc">%&gt;%</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">CO2_ekv =</span> value)<span class="sc">%&gt;%</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">as.numeric</span>(year))<span class="sc">%&gt;%</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">CO2_ekv =</span> <span class="fu">as.numeric</span>(CO2_ekv))<span class="sc">%&gt;%</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">CO2_ekv_kton =</span> CO2_ekv<span class="sc">/</span><span class="dv">1000</span>)<span class="sc">%&gt;%</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(year))</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>  plot_nor <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ets_norway, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> CO2_ekv_kton, <span class="at">color =</span> sector, <span class="at">group =</span> sector)) <span class="sc">+</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>sector, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span>        <span class="co"># Draw lines</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span>       <span class="co"># Add points for each year</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="st">"År"</span>,</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">"Kilo ton CO2 ekvivalenter"</span>,</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">"Verified Emissions in different sectors in Norway"</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">legend.position =</span> <span class="st">"none"</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(plot_nor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sok_2302_seminar_forurensing_emp_losn_files/figure-html/norway-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="interaktiv-plot-1" class="level4">
<h4 class="anchored" data-anchor-id="interaktiv-plot-1">Interaktiv plot</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmlwidgets)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(ets_norway,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>            <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.numeric</span>(year), <span class="at">y =</span> CO2_ekv_kton, <span class="at">color =</span> sector, <span class="at">group =</span> sector,</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">text =</span> <span class="fu">paste0</span>(<span class="st">"Sektor: "</span>, sector, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"År: "</span>, year, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>                              <span class="st">"Utslipp: "</span>, scales<span class="sc">::</span><span class="fu">comma</span>(<span class="fu">round</span>(CO2_ekv_kton<span class="sc">/</span><span class="dv">1000</span>,<span class="dv">2</span>))))</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>sector, <span class="at">scales =</span> <span class="st">"free_y"</span>, <span class="at">ncol =</span> <span class="dv">1</span>) <span class="sc">+</span>   <span class="co"># en kolonne, ulike grafer for hver sektor, fri skala på y-akselen</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"År"</span>, <span class="at">y =</span> <span class="st">"Utslipp av klimagass (tonn CO2-ekv)"</span>,</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Utslipp av klimagass i ulike sektorer i Norge"</span>) <span class="sc">+</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma) <span class="sc">+</span>  </span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to plotly and increase figure height</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>gg_sektor <span class="ot">&lt;-</span> <span class="fu">ggplotly</span>(p, <span class="at">tooltip =</span> <span class="st">"text"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">hovermode =</span> <span class="st">"x unified"</span>,</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">height =</span> <span class="dv">16</span> <span class="sc">*</span> <span class="dv">250</span>   <span class="co"># 250px per facet, adjust as needed</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">displayModeBar =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a><span class="co"># JavaScript: add/update vertical line at clicked x</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>js <span class="ot">&lt;-</span> <span class="st">"</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a><span class="st">function(el, x) {</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a><span class="st">  var plot = el;</span></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a><span class="st">  plot.on('plotly_click', function(data) {</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a><span class="st">    if(!data || !data.points || data.points.length === 0) return;</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a><span class="st">    var xval = data.points[0].x;</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a><span class="st">    var vline = {</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a><span class="st">      type: 'line',</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a><span class="st">      x0: xval, x1: xval,</span></span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a><span class="st">      y0: 0, y1: 1,</span></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a><span class="st">      xref: 'x', yref: 'paper',</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a><span class="st">      line: {color: 'black', width: 1.5, dash: 'dot'}</span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a><span class="st">    };</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a><span class="st">    var shapes = (plot.layout.shapes || []).filter(function(s){ return s.name !== 'click_vline'; });</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a><span class="st">    vline.name = 'click_vline';</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a><span class="st">    shapes.push(vline);</span></span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a><span class="st">    Plotly.relayout(plot, {'shapes': shapes});</span></span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a><span class="st">  });</span></span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a><span class="st">}</span></span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a><span class="st">"</span></span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>gg_sektor <span class="ot">&lt;-</span> <span class="fu">onRender</span>(gg_sektor, js)</span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a>gg_sektor</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-7d507d41a9403912a369" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-7d507d41a9403912a369">{"x":{"data":[{"x":[2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[1963.3969999999999,2103.0940000000001,2319.433,2246.6460000000002,1592.192,1457.6389999999999,1518.271,1572.058,574.76999999999998,742.91999999999996,1330.1410000000001,1161.085,1258.741],"text":["Sektor: 10 Aviation<br>År: 2012<br>Utslipp: 1.960","Sektor: 10 Aviation<br>År: 2013<br>Utslipp: 2.100","Sektor: 10 Aviation<br>År: 2014<br>Utslipp: 2.320","Sektor: 10 Aviation<br>År: 2015<br>Utslipp: 2.250","Sektor: 10 Aviation<br>År: 2016<br>Utslipp: 1.590","Sektor: 10 Aviation<br>År: 2017<br>Utslipp: 1.460","Sektor: 10 Aviation<br>År: 2018<br>Utslipp: 1.520","Sektor: 10 Aviation<br>År: 2019<br>Utslipp: 1.570","Sektor: 10 Aviation<br>År: 2020<br>Utslipp: 0.570","Sektor: 10 Aviation<br>År: 2021<br>Utslipp: 0.740","Sektor: 10 Aviation<br>År: 2022<br>Utslipp: 1.330","Sektor: 10 Aviation<br>År: 2023<br>Utslipp: 1.160","Sektor: 10 Aviation<br>År: 2024<br>Utslipp: 1.260"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"10 Aviation","legendgroup":"10 Aviation","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[14279.174000000001,14050.357,14211.337,14097.513000000001,13674.805,14078.201999999999,14609.666999999999,15105.66,14856.392,14191.91,13899.941999999999,13756.575999999999,13042.235000000001,12014.779,11976.873,11522.514999999999,10940.596],"text":["Sektor: 20 Combustion of fuels<br>År: 2008<br>Utslipp: 14.280","Sektor: 20 Combustion of fuels<br>År: 2009<br>Utslipp: 14.050","Sektor: 20 Combustion of fuels<br>År: 2010<br>Utslipp: 14.210","Sektor: 20 Combustion of fuels<br>År: 2011<br>Utslipp: 14.100","Sektor: 20 Combustion of fuels<br>År: 2012<br>Utslipp: 13.670","Sektor: 20 Combustion of fuels<br>År: 2013<br>Utslipp: 14.080","Sektor: 20 Combustion of fuels<br>År: 2014<br>Utslipp: 14.610","Sektor: 20 Combustion of fuels<br>År: 2015<br>Utslipp: 15.110","Sektor: 20 Combustion of fuels<br>År: 2016<br>Utslipp: 14.860","Sektor: 20 Combustion of fuels<br>År: 2017<br>Utslipp: 14.190","Sektor: 20 Combustion of fuels<br>År: 2018<br>Utslipp: 13.900","Sektor: 20 Combustion of fuels<br>År: 2019<br>Utslipp: 13.760","Sektor: 20 Combustion of fuels<br>År: 2020<br>Utslipp: 13.040","Sektor: 20 Combustion of fuels<br>År: 2021<br>Utslipp: 12.010","Sektor: 20 Combustion of fuels<br>År: 2022<br>Utslipp: 11.980","Sektor: 20 Combustion of fuels<br>År: 2023<br>Utslipp: 11.520","Sektor: 20 Combustion of fuels<br>År: 2024<br>Utslipp: 10.940"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(222,140,0,1)","dash":"solid"},"hoveron":"points","name":"20 Combustion of fuels","legendgroup":"20 Combustion of fuels","showlegend":true,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[1794.116,1898.1880000000001,1832.396,1922.346,1986.712,2008.402,1671.7819999999999,1906.0899999999999,1703.9670000000001,2649.7939999999999,2485.529,2059.6239999999998,1983.0650000000001,2179.2460000000001,1688.1410000000001,1670.3499999999999,1621.874],"text":["Sektor: 21  Refining of mineral oil<br>År: 2008<br>Utslipp: 1.790","Sektor: 21  Refining of mineral oil<br>År: 2009<br>Utslipp: 1.900","Sektor: 21  Refining of mineral oil<br>År: 2010<br>Utslipp: 1.830","Sektor: 21  Refining of mineral oil<br>År: 2011<br>Utslipp: 1.920","Sektor: 21  Refining of mineral oil<br>År: 2012<br>Utslipp: 1.990","Sektor: 21  Refining of mineral oil<br>År: 2013<br>Utslipp: 2.010","Sektor: 21  Refining of mineral oil<br>År: 2014<br>Utslipp: 1.670","Sektor: 21  Refining of mineral oil<br>År: 2015<br>Utslipp: 1.910","Sektor: 21  Refining of mineral oil<br>År: 2016<br>Utslipp: 1.700","Sektor: 21  Refining of mineral oil<br>År: 2017<br>Utslipp: 2.650","Sektor: 21  Refining of mineral oil<br>År: 2018<br>Utslipp: 2.490","Sektor: 21  Refining of mineral oil<br>År: 2019<br>Utslipp: 2.060","Sektor: 21  Refining of mineral oil<br>År: 2020<br>Utslipp: 1.980","Sektor: 21  Refining of mineral oil<br>År: 2021<br>Utslipp: 2.180","Sektor: 21  Refining of mineral oil<br>År: 2022<br>Utslipp: 1.690","Sektor: 21  Refining of mineral oil<br>År: 2023<br>Utslipp: 1.670","Sektor: 21  Refining of mineral oil<br>År: 2024<br>Utslipp: 1.620"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(183,159,0,1)","dash":"solid"},"hoveron":"points","name":"21  Refining of mineral oil","legendgroup":"21  Refining of mineral oil","showlegend":true,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[69.959000000000003,74.619,78.194000000000003,88.863,100.63500000000001,91.921000000000006,100.149,96.656000000000006,91.510999999999996,98.802999999999997,93.274000000000001,89.986999999999995,76.191000000000003,87.093999999999994,98.066000000000003,89.171000000000006,90.653999999999996],"text":["Sektor: 24  Production of pig iron or steel<br>År: 2008<br>Utslipp: 0.070","Sektor: 24  Production of pig iron or steel<br>År: 2009<br>Utslipp: 0.070","Sektor: 24  Production of pig iron or steel<br>År: 2010<br>Utslipp: 0.080","Sektor: 24  Production of pig iron or steel<br>År: 2011<br>Utslipp: 0.090","Sektor: 24  Production of pig iron or steel<br>År: 2012<br>Utslipp: 0.100","Sektor: 24  Production of pig iron or steel<br>År: 2013<br>Utslipp: 0.090","Sektor: 24  Production of pig iron or steel<br>År: 2014<br>Utslipp: 0.100","Sektor: 24  Production of pig iron or steel<br>År: 2015<br>Utslipp: 0.100","Sektor: 24  Production of pig iron or steel<br>År: 2016<br>Utslipp: 0.090","Sektor: 24  Production of pig iron or steel<br>År: 2017<br>Utslipp: 0.100","Sektor: 24  Production of pig iron or steel<br>År: 2018<br>Utslipp: 0.090","Sektor: 24  Production of pig iron or steel<br>År: 2019<br>Utslipp: 0.090","Sektor: 24  Production of pig iron or steel<br>År: 2020<br>Utslipp: 0.080","Sektor: 24  Production of pig iron or steel<br>År: 2021<br>Utslipp: 0.090","Sektor: 24  Production of pig iron or steel<br>År: 2022<br>Utslipp: 0.100","Sektor: 24  Production of pig iron or steel<br>År: 2023<br>Utslipp: 0.090","Sektor: 24  Production of pig iron or steel<br>År: 2024<br>Utslipp: 0.090"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(124,174,0,1)","dash":"solid"},"hoveron":"points","name":"24  Production of pig iron or steel","legendgroup":"24  Production of pig iron or steel","showlegend":true,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[1215.568,1234.068,1127.155,1110.9880000000001,1092.144,1081.5170000000001,1089.2,1007.293,1030.627,1171.6759999999999,1111.818,1104.575,1081.325,1044.136,1053.317,893.70899999999995,837.24900000000002],"text":["Sektor: 29 Production of cement clinker<br>År: 2008<br>Utslipp: 1.220","Sektor: 29 Production of cement clinker<br>År: 2009<br>Utslipp: 1.230","Sektor: 29 Production of cement clinker<br>År: 2010<br>Utslipp: 1.130","Sektor: 29 Production of cement clinker<br>År: 2011<br>Utslipp: 1.110","Sektor: 29 Production of cement clinker<br>År: 2012<br>Utslipp: 1.090","Sektor: 29 Production of cement clinker<br>År: 2013<br>Utslipp: 1.080","Sektor: 29 Production of cement clinker<br>År: 2014<br>Utslipp: 1.090","Sektor: 29 Production of cement clinker<br>År: 2015<br>Utslipp: 1.010","Sektor: 29 Production of cement clinker<br>År: 2016<br>Utslipp: 1.030","Sektor: 29 Production of cement clinker<br>År: 2017<br>Utslipp: 1.170","Sektor: 29 Production of cement clinker<br>År: 2018<br>Utslipp: 1.110","Sektor: 29 Production of cement clinker<br>År: 2019<br>Utslipp: 1.100","Sektor: 29 Production of cement clinker<br>År: 2020<br>Utslipp: 1.080","Sektor: 29 Production of cement clinker<br>År: 2021<br>Utslipp: 1.040","Sektor: 29 Production of cement clinker<br>År: 2022<br>Utslipp: 1.050","Sektor: 29 Production of cement clinker<br>År: 2023<br>Utslipp: 0.890","Sektor: 29 Production of cement clinker<br>År: 2024<br>Utslipp: 0.840"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(0,186,56,1)","dash":"solid"},"hoveron":"points","name":"29 Production of cement clinker","legendgroup":"29 Production of cement clinker","showlegend":true,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[225.57400000000001,221.77799999999999,353.85899999999998,322.38099999999997,337.834,435.339,469.20299999999997,448.85500000000002,392.45299999999997,333.58999999999997,354.23399999999998,382.51999999999998,315.16399999999999,298.24400000000003,356.291,292.32900000000001,335.00200000000001],"text":["Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2008<br>Utslipp: 0.230","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2009<br>Utslipp: 0.220","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2010<br>Utslipp: 0.350","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2011<br>Utslipp: 0.320","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2012<br>Utslipp: 0.340","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2013<br>Utslipp: 0.440","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2014<br>Utslipp: 0.470","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2015<br>Utslipp: 0.450","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2016<br>Utslipp: 0.390","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2017<br>Utslipp: 0.330","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2018<br>Utslipp: 0.350","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2019<br>Utslipp: 0.380","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2020<br>Utslipp: 0.320","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2021<br>Utslipp: 0.300","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2022<br>Utslipp: 0.360","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2023<br>Utslipp: 0.290","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2024<br>Utslipp: 0.340"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(0,192,139,1)","dash":"solid"},"hoveron":"points","name":"30 Production of lime, or calcination of dolomite/magnesite","legendgroup":"30 Production of lime, or calcination of dolomite/magnesite","showlegend":true,"xaxis":"x","yaxis":"y6","hoverinfo":"text","frame":null},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[30.295000000000002,28.704999999999998,30.161999999999999,30.567,30.795999999999999,33.201999999999998,33.295999999999999,37.064999999999998,37.747,37.634999999999998,41.082000000000001,44.781999999999996,42.189,45.688000000000002,44.744999999999997,43.456000000000003,33.049999999999997],"text":["Sektor: 31 Manufacture of glass<br>År: 2008<br>Utslipp: 0.030","Sektor: 31 Manufacture of glass<br>År: 2009<br>Utslipp: 0.030","Sektor: 31 Manufacture of glass<br>År: 2010<br>Utslipp: 0.030","Sektor: 31 Manufacture of glass<br>År: 2011<br>Utslipp: 0.030","Sektor: 31 Manufacture of glass<br>År: 2012<br>Utslipp: 0.030","Sektor: 31 Manufacture of glass<br>År: 2013<br>Utslipp: 0.030","Sektor: 31 Manufacture of glass<br>År: 2014<br>Utslipp: 0.030","Sektor: 31 Manufacture of glass<br>År: 2015<br>Utslipp: 0.040","Sektor: 31 Manufacture of glass<br>År: 2016<br>Utslipp: 0.040","Sektor: 31 Manufacture of glass<br>År: 2017<br>Utslipp: 0.040","Sektor: 31 Manufacture of glass<br>År: 2018<br>Utslipp: 0.040","Sektor: 31 Manufacture of glass<br>År: 2019<br>Utslipp: 0.040","Sektor: 31 Manufacture of glass<br>År: 2020<br>Utslipp: 0.040","Sektor: 31 Manufacture of glass<br>År: 2021<br>Utslipp: 0.050","Sektor: 31 Manufacture of glass<br>År: 2022<br>Utslipp: 0.040","Sektor: 31 Manufacture of glass<br>År: 2023<br>Utslipp: 0.040","Sektor: 31 Manufacture of glass<br>År: 2024<br>Utslipp: 0.030"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","name":"31 Manufacture of glass","legendgroup":"31 Manufacture of glass","showlegend":true,"xaxis":"x","yaxis":"y7","hoverinfo":"text","frame":null},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[48.073,29.945,31.085000000000001,31.530000000000001,29.690999999999999,28.199999999999999,25.832999999999998,21.988,34.712000000000003,36.566000000000003,40.948999999999998,43.142000000000003,31.800000000000001,36.933,32.408000000000001,24.216999999999999,10.911],"text":["Sektor: 32 Manufacture of ceramics<br>År: 2008<br>Utslipp: 0.050","Sektor: 32 Manufacture of ceramics<br>År: 2009<br>Utslipp: 0.030","Sektor: 32 Manufacture of ceramics<br>År: 2010<br>Utslipp: 0.030","Sektor: 32 Manufacture of ceramics<br>År: 2011<br>Utslipp: 0.030","Sektor: 32 Manufacture of ceramics<br>År: 2012<br>Utslipp: 0.030","Sektor: 32 Manufacture of ceramics<br>År: 2013<br>Utslipp: 0.030","Sektor: 32 Manufacture of ceramics<br>År: 2014<br>Utslipp: 0.030","Sektor: 32 Manufacture of ceramics<br>År: 2015<br>Utslipp: 0.020","Sektor: 32 Manufacture of ceramics<br>År: 2016<br>Utslipp: 0.030","Sektor: 32 Manufacture of ceramics<br>År: 2017<br>Utslipp: 0.040","Sektor: 32 Manufacture of ceramics<br>År: 2018<br>Utslipp: 0.040","Sektor: 32 Manufacture of ceramics<br>År: 2019<br>Utslipp: 0.040","Sektor: 32 Manufacture of ceramics<br>År: 2020<br>Utslipp: 0.030","Sektor: 32 Manufacture of ceramics<br>År: 2021<br>Utslipp: 0.040","Sektor: 32 Manufacture of ceramics<br>År: 2022<br>Utslipp: 0.030","Sektor: 32 Manufacture of ceramics<br>År: 2023<br>Utslipp: 0.020","Sektor: 32 Manufacture of ceramics<br>År: 2024<br>Utslipp: 0.010"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(0,180,240,1)","dash":"solid"},"hoveron":"points","name":"32 Manufacture of ceramics","legendgroup":"32 Manufacture of ceramics","showlegend":true,"xaxis":"x","yaxis":"y8","hoverinfo":"text","frame":null},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[39.963999999999999,30.018000000000001,33.938000000000002,33.148000000000003,28.436,27.82,27.114000000000001,28.295000000000002,29.898,30.731999999999999,27.062000000000001,27.565000000000001,27.042000000000002,30.003,29.977,26.727,23.396999999999998],"text":["Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2008<br>Utslipp: 0.040","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2009<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2010<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2011<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2012<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2013<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2014<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2015<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2016<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2017<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2018<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2019<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2020<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2021<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2022<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2023<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2024<br>Utslipp: 0.020"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(97,156,255,1)","dash":"solid"},"hoveron":"points","name":"34 Production or processing of gypsum or plasterboard","legendgroup":"34 Production or processing of gypsum or plasterboard","showlegend":true,"xaxis":"x","yaxis":"y9","hoverinfo":"text","frame":null},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[265.60300000000001,254.91900000000001,241.25399999999999,199.53,175.19399999999999,177.84700000000001,137.05099999999999,123.76300000000001,130.375,131.55000000000001,147.61099999999999,142.55000000000001,134.45500000000001,165.46199999999999,183.91399999999999,142.05799999999999,123.574],"text":["Sektor: 35 Production of pulp<br>År: 2008<br>Utslipp: 0.270","Sektor: 35 Production of pulp<br>År: 2009<br>Utslipp: 0.250","Sektor: 35 Production of pulp<br>År: 2010<br>Utslipp: 0.240","Sektor: 35 Production of pulp<br>År: 2011<br>Utslipp: 0.200","Sektor: 35 Production of pulp<br>År: 2012<br>Utslipp: 0.180","Sektor: 35 Production of pulp<br>År: 2013<br>Utslipp: 0.180","Sektor: 35 Production of pulp<br>År: 2014<br>Utslipp: 0.140","Sektor: 35 Production of pulp<br>År: 2015<br>Utslipp: 0.120","Sektor: 35 Production of pulp<br>År: 2016<br>Utslipp: 0.130","Sektor: 35 Production of pulp<br>År: 2017<br>Utslipp: 0.130","Sektor: 35 Production of pulp<br>År: 2018<br>Utslipp: 0.150","Sektor: 35 Production of pulp<br>År: 2019<br>Utslipp: 0.140","Sektor: 35 Production of pulp<br>År: 2020<br>Utslipp: 0.130","Sektor: 35 Production of pulp<br>År: 2021<br>Utslipp: 0.170","Sektor: 35 Production of pulp<br>År: 2022<br>Utslipp: 0.180","Sektor: 35 Production of pulp<br>År: 2023<br>Utslipp: 0.140","Sektor: 35 Production of pulp<br>År: 2024<br>Utslipp: 0.120"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(199,124,255,1)","dash":"solid"},"hoveron":"points","name":"35 Production of pulp","legendgroup":"35 Production of pulp","showlegend":true,"xaxis":"x","yaxis":"y10","hoverinfo":"text","frame":null},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[143.46000000000001,125.985,158.804,93.173000000000002,38.822000000000003,35.411999999999999,31.471,22.940000000000001,32.673999999999999,25.724,26.867000000000001,27.056000000000001,14.645,22.527000000000001,24.120000000000001,18.132000000000001,12.380000000000001],"text":["Sektor: 36 Production of paper or cardboard<br>År: 2008<br>Utslipp: 0.140","Sektor: 36 Production of paper or cardboard<br>År: 2009<br>Utslipp: 0.130","Sektor: 36 Production of paper or cardboard<br>År: 2010<br>Utslipp: 0.160","Sektor: 36 Production of paper or cardboard<br>År: 2011<br>Utslipp: 0.090","Sektor: 36 Production of paper or cardboard<br>År: 2012<br>Utslipp: 0.040","Sektor: 36 Production of paper or cardboard<br>År: 2013<br>Utslipp: 0.040","Sektor: 36 Production of paper or cardboard<br>År: 2014<br>Utslipp: 0.030","Sektor: 36 Production of paper or cardboard<br>År: 2015<br>Utslipp: 0.020","Sektor: 36 Production of paper or cardboard<br>År: 2016<br>Utslipp: 0.030","Sektor: 36 Production of paper or cardboard<br>År: 2017<br>Utslipp: 0.030","Sektor: 36 Production of paper or cardboard<br>År: 2018<br>Utslipp: 0.030","Sektor: 36 Production of paper or cardboard<br>År: 2019<br>Utslipp: 0.030","Sektor: 36 Production of paper or cardboard<br>År: 2020<br>Utslipp: 0.010","Sektor: 36 Production of paper or cardboard<br>År: 2021<br>Utslipp: 0.020","Sektor: 36 Production of paper or cardboard<br>År: 2022<br>Utslipp: 0.020","Sektor: 36 Production of paper or cardboard<br>År: 2023<br>Utslipp: 0.020","Sektor: 36 Production of paper or cardboard<br>År: 2024<br>Utslipp: 0.010"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(245,100,227,1)","dash":"solid"},"hoveron":"points","name":"36 Production of paper or cardboard","legendgroup":"36 Production of paper or cardboard","showlegend":true,"xaxis":"x","yaxis":"y11","hoverinfo":"text","frame":null},{"x":[2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[1230.6569999999999,1267.1079999999999,1176.0909999999999,1152.979,1065.277,1838.683,1781.854,2077.7240000000002,1873.0219999999999,1550.3620000000001,1821.923,1759.9670000000001,1640.761,1451.4300000000001,1552.4659999999999,1623.394,1394.5599999999999],"text":["Sektor: 42 Production of bulk chemicals<br>År: 2008<br>Utslipp: 1.230","Sektor: 42 Production of bulk chemicals<br>År: 2009<br>Utslipp: 1.270","Sektor: 42 Production of bulk chemicals<br>År: 2010<br>Utslipp: 1.180","Sektor: 42 Production of bulk chemicals<br>År: 2011<br>Utslipp: 1.150","Sektor: 42 Production of bulk chemicals<br>År: 2012<br>Utslipp: 1.070","Sektor: 42 Production of bulk chemicals<br>År: 2013<br>Utslipp: 1.840","Sektor: 42 Production of bulk chemicals<br>År: 2014<br>Utslipp: 1.780","Sektor: 42 Production of bulk chemicals<br>År: 2015<br>Utslipp: 2.080","Sektor: 42 Production of bulk chemicals<br>År: 2016<br>Utslipp: 1.870","Sektor: 42 Production of bulk chemicals<br>År: 2017<br>Utslipp: 1.550","Sektor: 42 Production of bulk chemicals<br>År: 2018<br>Utslipp: 1.820","Sektor: 42 Production of bulk chemicals<br>År: 2019<br>Utslipp: 1.760","Sektor: 42 Production of bulk chemicals<br>År: 2020<br>Utslipp: 1.640","Sektor: 42 Production of bulk chemicals<br>År: 2021<br>Utslipp: 1.450","Sektor: 42 Production of bulk chemicals<br>År: 2022<br>Utslipp: 1.550","Sektor: 42 Production of bulk chemicals<br>År: 2023<br>Utslipp: 1.620","Sektor: 42 Production of bulk chemicals<br>År: 2024<br>Utslipp: 1.390"],"type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(255,100,176,1)","dash":"solid"},"hoveron":"points","name":"42 Production of bulk chemicals","legendgroup":"42 Production of bulk chemicals","showlegend":true,"xaxis":"x","yaxis":"y12","hoverinfo":"text","frame":null},{"x":[2018,2012,2021,2022,2016,2024,2013,2014,2015,2019,2020,2023,2017],"y":[1518.271,1963.3969999999999,742.91999999999996,1330.1410000000001,1592.192,1258.741,2103.0940000000001,2319.433,2246.6460000000002,1572.058,574.76999999999998,1161.085,1457.6389999999999],"text":["Sektor: 10 Aviation<br>År: 2018<br>Utslipp: 1.520","Sektor: 10 Aviation<br>År: 2012<br>Utslipp: 1.960","Sektor: 10 Aviation<br>År: 2021<br>Utslipp: 0.740","Sektor: 10 Aviation<br>År: 2022<br>Utslipp: 1.330","Sektor: 10 Aviation<br>År: 2016<br>Utslipp: 1.590","Sektor: 10 Aviation<br>År: 2024<br>Utslipp: 1.260","Sektor: 10 Aviation<br>År: 2013<br>Utslipp: 2.100","Sektor: 10 Aviation<br>År: 2014<br>Utslipp: 2.320","Sektor: 10 Aviation<br>År: 2015<br>Utslipp: 2.250","Sektor: 10 Aviation<br>År: 2019<br>Utslipp: 1.570","Sektor: 10 Aviation<br>År: 2020<br>Utslipp: 0.570","Sektor: 10 Aviation<br>År: 2023<br>Utslipp: 1.160","Sektor: 10 Aviation<br>År: 2017<br>Utslipp: 1.460"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.80000000000000004,"size":15.118110236220474,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"10 Aviation","legendgroup":"10 Aviation","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2010,2011,2012,2020,2024,2013,2017,2018,2014,2019,2008,2016,2015,2021,2022,2023,2009],"y":[14211.337,14097.513000000001,13674.805,13042.235000000001,10940.596,14078.201999999999,14191.91,13899.941999999999,14609.666999999999,13756.575999999999,14279.174000000001,14856.392,15105.66,12014.779,11976.873,11522.514999999999,14050.357],"text":["Sektor: 20 Combustion of fuels<br>År: 2010<br>Utslipp: 14.210","Sektor: 20 Combustion of fuels<br>År: 2011<br>Utslipp: 14.100","Sektor: 20 Combustion of fuels<br>År: 2012<br>Utslipp: 13.670","Sektor: 20 Combustion of fuels<br>År: 2020<br>Utslipp: 13.040","Sektor: 20 Combustion of fuels<br>År: 2024<br>Utslipp: 10.940","Sektor: 20 Combustion of fuels<br>År: 2013<br>Utslipp: 14.080","Sektor: 20 Combustion of fuels<br>År: 2017<br>Utslipp: 14.190","Sektor: 20 Combustion of fuels<br>År: 2018<br>Utslipp: 13.900","Sektor: 20 Combustion of fuels<br>År: 2014<br>Utslipp: 14.610","Sektor: 20 Combustion of fuels<br>År: 2019<br>Utslipp: 13.760","Sektor: 20 Combustion of fuels<br>År: 2008<br>Utslipp: 14.280","Sektor: 20 Combustion of fuels<br>År: 2016<br>Utslipp: 14.860","Sektor: 20 Combustion of fuels<br>År: 2015<br>Utslipp: 15.110","Sektor: 20 Combustion of fuels<br>År: 2021<br>Utslipp: 12.010","Sektor: 20 Combustion of fuels<br>År: 2022<br>Utslipp: 11.980","Sektor: 20 Combustion of fuels<br>År: 2023<br>Utslipp: 11.520","Sektor: 20 Combustion of fuels<br>År: 2009<br>Utslipp: 14.050"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(222,140,0,1)","opacity":0.80000000000000004,"size":15.118110236220474,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(222,140,0,1)"}},"hoveron":"points","name":"20 Combustion of fuels","legendgroup":"20 Combustion of fuels","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[2008,2012,2013,2023,2010,2015,2021,2011,2014,2016,2018,2020,2024,2022,2009,2017,2019],"y":[1794.116,1986.712,2008.402,1670.3499999999999,1832.396,1906.0899999999999,2179.2460000000001,1922.346,1671.7819999999999,1703.9670000000001,2485.529,1983.0650000000001,1621.874,1688.1410000000001,1898.1880000000001,2649.7939999999999,2059.6239999999998],"text":["Sektor: 21  Refining of mineral oil<br>År: 2008<br>Utslipp: 1.790","Sektor: 21  Refining of mineral oil<br>År: 2012<br>Utslipp: 1.990","Sektor: 21  Refining of mineral oil<br>År: 2013<br>Utslipp: 2.010","Sektor: 21  Refining of mineral oil<br>År: 2023<br>Utslipp: 1.670","Sektor: 21  Refining of mineral oil<br>År: 2010<br>Utslipp: 1.830","Sektor: 21  Refining of mineral oil<br>År: 2015<br>Utslipp: 1.910","Sektor: 21  Refining of mineral oil<br>År: 2021<br>Utslipp: 2.180","Sektor: 21  Refining of mineral oil<br>År: 2011<br>Utslipp: 1.920","Sektor: 21  Refining of mineral oil<br>År: 2014<br>Utslipp: 1.670","Sektor: 21  Refining of mineral oil<br>År: 2016<br>Utslipp: 1.700","Sektor: 21  Refining of mineral oil<br>År: 2018<br>Utslipp: 2.490","Sektor: 21  Refining of mineral oil<br>År: 2020<br>Utslipp: 1.980","Sektor: 21  Refining of mineral oil<br>År: 2024<br>Utslipp: 1.620","Sektor: 21  Refining of mineral oil<br>År: 2022<br>Utslipp: 1.690","Sektor: 21  Refining of mineral oil<br>År: 2009<br>Utslipp: 1.900","Sektor: 21  Refining of mineral oil<br>År: 2017<br>Utslipp: 2.650","Sektor: 21  Refining of mineral oil<br>År: 2019<br>Utslipp: 2.060"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(183,159,0,1)","opacity":0.80000000000000004,"size":15.118110236220474,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(183,159,0,1)"}},"hoveron":"points","name":"21  Refining of mineral oil","legendgroup":"21  Refining of mineral oil","showlegend":false,"xaxis":"x","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[2017,2024,2011,2022,2008,2019,2009,2014,2020,2010,2013,2016,2018,2023,2021,2012,2015],"y":[98.802999999999997,90.653999999999996,88.863,98.066000000000003,69.959000000000003,89.986999999999995,74.619,100.149,76.191000000000003,78.194000000000003,91.921000000000006,91.510999999999996,93.274000000000001,89.171000000000006,87.093999999999994,100.63500000000001,96.656000000000006],"text":["Sektor: 24  Production of pig iron or steel<br>År: 2017<br>Utslipp: 0.100","Sektor: 24  Production of pig iron or steel<br>År: 2024<br>Utslipp: 0.090","Sektor: 24  Production of pig iron or steel<br>År: 2011<br>Utslipp: 0.090","Sektor: 24  Production of pig iron or steel<br>År: 2022<br>Utslipp: 0.100","Sektor: 24  Production of pig iron or steel<br>År: 2008<br>Utslipp: 0.070","Sektor: 24  Production of pig iron or steel<br>År: 2019<br>Utslipp: 0.090","Sektor: 24  Production of pig iron or steel<br>År: 2009<br>Utslipp: 0.070","Sektor: 24  Production of pig iron or steel<br>År: 2014<br>Utslipp: 0.100","Sektor: 24  Production of pig iron or steel<br>År: 2020<br>Utslipp: 0.080","Sektor: 24  Production of pig iron or steel<br>År: 2010<br>Utslipp: 0.080","Sektor: 24  Production of pig iron or steel<br>År: 2013<br>Utslipp: 0.090","Sektor: 24  Production of pig iron or steel<br>År: 2016<br>Utslipp: 0.090","Sektor: 24  Production of pig iron or steel<br>År: 2018<br>Utslipp: 0.090","Sektor: 24  Production of pig iron or steel<br>År: 2023<br>Utslipp: 0.090","Sektor: 24  Production of pig iron or steel<br>År: 2021<br>Utslipp: 0.090","Sektor: 24  Production of pig iron or steel<br>År: 2012<br>Utslipp: 0.100","Sektor: 24  Production of pig iron or steel<br>År: 2015<br>Utslipp: 0.100"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(124,174,0,1)","opacity":0.80000000000000004,"size":15.118110236220474,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(124,174,0,1)"}},"hoveron":"points","name":"24  Production of pig iron or steel","legendgroup":"24  Production of pig iron or steel","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"x":[2011,2019,2014,2022,2012,2024,2008,2018,2021,2010,2013,2016,2009,2020,2015,2017,2023],"y":[1110.9880000000001,1104.575,1089.2,1053.317,1092.144,837.24900000000002,1215.568,1111.818,1044.136,1127.155,1081.5170000000001,1030.627,1234.068,1081.325,1007.293,1171.6759999999999,893.70899999999995],"text":["Sektor: 29 Production of cement clinker<br>År: 2011<br>Utslipp: 1.110","Sektor: 29 Production of cement clinker<br>År: 2019<br>Utslipp: 1.100","Sektor: 29 Production of cement clinker<br>År: 2014<br>Utslipp: 1.090","Sektor: 29 Production of cement clinker<br>År: 2022<br>Utslipp: 1.050","Sektor: 29 Production of cement clinker<br>År: 2012<br>Utslipp: 1.090","Sektor: 29 Production of cement clinker<br>År: 2024<br>Utslipp: 0.840","Sektor: 29 Production of cement clinker<br>År: 2008<br>Utslipp: 1.220","Sektor: 29 Production of cement clinker<br>År: 2018<br>Utslipp: 1.110","Sektor: 29 Production of cement clinker<br>År: 2021<br>Utslipp: 1.040","Sektor: 29 Production of cement clinker<br>År: 2010<br>Utslipp: 1.130","Sektor: 29 Production of cement clinker<br>År: 2013<br>Utslipp: 1.080","Sektor: 29 Production of cement clinker<br>År: 2016<br>Utslipp: 1.030","Sektor: 29 Production of cement clinker<br>År: 2009<br>Utslipp: 1.230","Sektor: 29 Production of cement clinker<br>År: 2020<br>Utslipp: 1.080","Sektor: 29 Production of cement clinker<br>År: 2015<br>Utslipp: 1.010","Sektor: 29 Production of cement clinker<br>År: 2017<br>Utslipp: 1.170","Sektor: 29 Production of cement clinker<br>År: 2023<br>Utslipp: 0.890"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,186,56,1)","opacity":0.80000000000000004,"size":15.118110236220474,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,186,56,1)"}},"hoveron":"points","name":"29 Production of cement clinker","legendgroup":"29 Production of cement clinker","showlegend":false,"xaxis":"x","yaxis":"y5","hoverinfo":"text","frame":null},{"x":[2008,2011,2022,2014,2010,2012,2021,2023,2015,2020,2009,2016,2019,2013,2017,2018,2024],"y":[225.57400000000001,322.38099999999997,356.291,469.20299999999997,353.85899999999998,337.834,298.24400000000003,292.32900000000001,448.85500000000002,315.16399999999999,221.77799999999999,392.45299999999997,382.51999999999998,435.339,333.58999999999997,354.23399999999998,335.00200000000001],"text":["Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2008<br>Utslipp: 0.230","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2011<br>Utslipp: 0.320","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2022<br>Utslipp: 0.360","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2014<br>Utslipp: 0.470","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2010<br>Utslipp: 0.350","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2012<br>Utslipp: 0.340","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2021<br>Utslipp: 0.300","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2023<br>Utslipp: 0.290","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2015<br>Utslipp: 0.450","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2020<br>Utslipp: 0.320","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2009<br>Utslipp: 0.220","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2016<br>Utslipp: 0.390","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2019<br>Utslipp: 0.380","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2013<br>Utslipp: 0.440","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2017<br>Utslipp: 0.330","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2018<br>Utslipp: 0.350","Sektor: 30 Production of lime, or calcination of dolomite/magnesite<br>År: 2024<br>Utslipp: 0.340"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,192,139,1)","opacity":0.80000000000000004,"size":15.118110236220474,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,192,139,1)"}},"hoveron":"points","name":"30 Production of lime, or calcination of dolomite/magnesite","legendgroup":"30 Production of lime, or calcination of dolomite/magnesite","showlegend":false,"xaxis":"x","yaxis":"y6","hoverinfo":"text","frame":null},{"x":[2015,2011,2021,2019,2020,2012,2013,2014,2010,2016,2017,2018,2022,2023,2008,2009,2024],"y":[37.064999999999998,30.567,45.688000000000002,44.781999999999996,42.189,30.795999999999999,33.201999999999998,33.295999999999999,30.161999999999999,37.747,37.634999999999998,41.082000000000001,44.744999999999997,43.456000000000003,30.295000000000002,28.704999999999998,33.049999999999997],"text":["Sektor: 31 Manufacture of glass<br>År: 2015<br>Utslipp: 0.040","Sektor: 31 Manufacture of glass<br>År: 2011<br>Utslipp: 0.030","Sektor: 31 Manufacture of glass<br>År: 2021<br>Utslipp: 0.050","Sektor: 31 Manufacture of glass<br>År: 2019<br>Utslipp: 0.040","Sektor: 31 Manufacture of glass<br>År: 2020<br>Utslipp: 0.040","Sektor: 31 Manufacture of glass<br>År: 2012<br>Utslipp: 0.030","Sektor: 31 Manufacture of glass<br>År: 2013<br>Utslipp: 0.030","Sektor: 31 Manufacture of glass<br>År: 2014<br>Utslipp: 0.030","Sektor: 31 Manufacture of glass<br>År: 2010<br>Utslipp: 0.030","Sektor: 31 Manufacture of glass<br>År: 2016<br>Utslipp: 0.040","Sektor: 31 Manufacture of glass<br>År: 2017<br>Utslipp: 0.040","Sektor: 31 Manufacture of glass<br>År: 2018<br>Utslipp: 0.040","Sektor: 31 Manufacture of glass<br>År: 2022<br>Utslipp: 0.040","Sektor: 31 Manufacture of glass<br>År: 2023<br>Utslipp: 0.040","Sektor: 31 Manufacture of glass<br>År: 2008<br>Utslipp: 0.030","Sektor: 31 Manufacture of glass<br>År: 2009<br>Utslipp: 0.030","Sektor: 31 Manufacture of glass<br>År: 2024<br>Utslipp: 0.030"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":0.80000000000000004,"size":15.118110236220474,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"31 Manufacture of glass","legendgroup":"31 Manufacture of glass","showlegend":false,"xaxis":"x","yaxis":"y7","hoverinfo":"text","frame":null},{"x":[2008,2017,2013,2024,2009,2023,2022,2011,2015,2019,2021,2014,2010,2012,2016,2018,2020],"y":[48.073,36.566000000000003,28.199999999999999,10.911,29.945,24.216999999999999,32.408000000000001,31.530000000000001,21.988,43.142000000000003,36.933,25.832999999999998,31.085000000000001,29.690999999999999,34.712000000000003,40.948999999999998,31.800000000000001],"text":["Sektor: 32 Manufacture of ceramics<br>År: 2008<br>Utslipp: 0.050","Sektor: 32 Manufacture of ceramics<br>År: 2017<br>Utslipp: 0.040","Sektor: 32 Manufacture of ceramics<br>År: 2013<br>Utslipp: 0.030","Sektor: 32 Manufacture of ceramics<br>År: 2024<br>Utslipp: 0.010","Sektor: 32 Manufacture of ceramics<br>År: 2009<br>Utslipp: 0.030","Sektor: 32 Manufacture of ceramics<br>År: 2023<br>Utslipp: 0.020","Sektor: 32 Manufacture of ceramics<br>År: 2022<br>Utslipp: 0.030","Sektor: 32 Manufacture of ceramics<br>År: 2011<br>Utslipp: 0.030","Sektor: 32 Manufacture of ceramics<br>År: 2015<br>Utslipp: 0.020","Sektor: 32 Manufacture of ceramics<br>År: 2019<br>Utslipp: 0.040","Sektor: 32 Manufacture of ceramics<br>År: 2021<br>Utslipp: 0.040","Sektor: 32 Manufacture of ceramics<br>År: 2014<br>Utslipp: 0.030","Sektor: 32 Manufacture of ceramics<br>År: 2010<br>Utslipp: 0.030","Sektor: 32 Manufacture of ceramics<br>År: 2012<br>Utslipp: 0.030","Sektor: 32 Manufacture of ceramics<br>År: 2016<br>Utslipp: 0.030","Sektor: 32 Manufacture of ceramics<br>År: 2018<br>Utslipp: 0.040","Sektor: 32 Manufacture of ceramics<br>År: 2020<br>Utslipp: 0.030"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,180,240,1)","opacity":0.80000000000000004,"size":15.118110236220474,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,180,240,1)"}},"hoveron":"points","name":"32 Manufacture of ceramics","legendgroup":"32 Manufacture of ceramics","showlegend":false,"xaxis":"x","yaxis":"y8","hoverinfo":"text","frame":null},{"x":[2012,2013,2016,2021,2017,2019,2011,2023,2009,2010,2008,2022,2014,2015,2020,2018,2024],"y":[28.436,27.82,29.898,30.003,30.731999999999999,27.565000000000001,33.148000000000003,26.727,30.018000000000001,33.938000000000002,39.963999999999999,29.977,27.114000000000001,28.295000000000002,27.042000000000002,27.062000000000001,23.396999999999998],"text":["Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2012<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2013<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2016<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2021<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2017<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2019<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2011<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2023<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2009<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2010<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2008<br>Utslipp: 0.040","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2022<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2014<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2015<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2020<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2018<br>Utslipp: 0.030","Sektor: 34 Production or processing of gypsum or plasterboard<br>År: 2024<br>Utslipp: 0.020"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(97,156,255,1)","opacity":0.80000000000000004,"size":15.118110236220474,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(97,156,255,1)"}},"hoveron":"points","name":"34 Production or processing of gypsum or plasterboard","legendgroup":"34 Production or processing of gypsum or plasterboard","showlegend":false,"xaxis":"x","yaxis":"y9","hoverinfo":"text","frame":null},{"x":[2008,2015,2017,2022,2011,2009,2023,2010,2014,2019,2020,2013,2012,2016,2018,2024,2021],"y":[265.60300000000001,123.76300000000001,131.55000000000001,183.91399999999999,199.53,254.91900000000001,142.05799999999999,241.25399999999999,137.05099999999999,142.55000000000001,134.45500000000001,177.84700000000001,175.19399999999999,130.375,147.61099999999999,123.574,165.46199999999999],"text":["Sektor: 35 Production of pulp<br>År: 2008<br>Utslipp: 0.270","Sektor: 35 Production of pulp<br>År: 2015<br>Utslipp: 0.120","Sektor: 35 Production of pulp<br>År: 2017<br>Utslipp: 0.130","Sektor: 35 Production of pulp<br>År: 2022<br>Utslipp: 0.180","Sektor: 35 Production of pulp<br>År: 2011<br>Utslipp: 0.200","Sektor: 35 Production of pulp<br>År: 2009<br>Utslipp: 0.250","Sektor: 35 Production of pulp<br>År: 2023<br>Utslipp: 0.140","Sektor: 35 Production of pulp<br>År: 2010<br>Utslipp: 0.240","Sektor: 35 Production of pulp<br>År: 2014<br>Utslipp: 0.140","Sektor: 35 Production of pulp<br>År: 2019<br>Utslipp: 0.140","Sektor: 35 Production of pulp<br>År: 2020<br>Utslipp: 0.130","Sektor: 35 Production of pulp<br>År: 2013<br>Utslipp: 0.180","Sektor: 35 Production of pulp<br>År: 2012<br>Utslipp: 0.180","Sektor: 35 Production of pulp<br>År: 2016<br>Utslipp: 0.130","Sektor: 35 Production of pulp<br>År: 2018<br>Utslipp: 0.150","Sektor: 35 Production of pulp<br>År: 2024<br>Utslipp: 0.120","Sektor: 35 Production of pulp<br>År: 2021<br>Utslipp: 0.170"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(199,124,255,1)","opacity":0.80000000000000004,"size":15.118110236220474,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(199,124,255,1)"}},"hoveron":"points","name":"35 Production of pulp","legendgroup":"35 Production of pulp","showlegend":false,"xaxis":"x","yaxis":"y10","hoverinfo":"text","frame":null},{"x":[2009,2020,2016,2023,2010,2024,2008,2012,2018,2022,2013,2011,2015,2017,2019,2021,2014],"y":[125.985,14.645,32.673999999999999,18.132000000000001,158.804,12.380000000000001,143.46000000000001,38.822000000000003,26.867000000000001,24.120000000000001,35.411999999999999,93.173000000000002,22.940000000000001,25.724,27.056000000000001,22.527000000000001,31.471],"text":["Sektor: 36 Production of paper or cardboard<br>År: 2009<br>Utslipp: 0.130","Sektor: 36 Production of paper or cardboard<br>År: 2020<br>Utslipp: 0.010","Sektor: 36 Production of paper or cardboard<br>År: 2016<br>Utslipp: 0.030","Sektor: 36 Production of paper or cardboard<br>År: 2023<br>Utslipp: 0.020","Sektor: 36 Production of paper or cardboard<br>År: 2010<br>Utslipp: 0.160","Sektor: 36 Production of paper or cardboard<br>År: 2024<br>Utslipp: 0.010","Sektor: 36 Production of paper or cardboard<br>År: 2008<br>Utslipp: 0.140","Sektor: 36 Production of paper or cardboard<br>År: 2012<br>Utslipp: 0.040","Sektor: 36 Production of paper or cardboard<br>År: 2018<br>Utslipp: 0.030","Sektor: 36 Production of paper or cardboard<br>År: 2022<br>Utslipp: 0.020","Sektor: 36 Production of paper or cardboard<br>År: 2013<br>Utslipp: 0.040","Sektor: 36 Production of paper or cardboard<br>År: 2011<br>Utslipp: 0.090","Sektor: 36 Production of paper or cardboard<br>År: 2015<br>Utslipp: 0.020","Sektor: 36 Production of paper or cardboard<br>År: 2017<br>Utslipp: 0.030","Sektor: 36 Production of paper or cardboard<br>År: 2019<br>Utslipp: 0.030","Sektor: 36 Production of paper or cardboard<br>År: 2021<br>Utslipp: 0.020","Sektor: 36 Production of paper or cardboard<br>År: 2014<br>Utslipp: 0.030"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(245,100,227,1)","opacity":0.80000000000000004,"size":15.118110236220474,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(245,100,227,1)"}},"hoveron":"points","name":"36 Production of paper or cardboard","legendgroup":"36 Production of paper or cardboard","showlegend":false,"xaxis":"x","yaxis":"y11","hoverinfo":"text","frame":null},{"x":[2009,2017,2019,2020,2023,2014,2015,2016,2008,2010,2022,2011,2024,2012,2013,2018,2021],"y":[1267.1079999999999,1550.3620000000001,1759.9670000000001,1640.761,1623.394,1781.854,2077.7240000000002,1873.0219999999999,1230.6569999999999,1176.0909999999999,1552.4659999999999,1152.979,1394.5599999999999,1065.277,1838.683,1821.923,1451.4300000000001],"text":["Sektor: 42 Production of bulk chemicals<br>År: 2009<br>Utslipp: 1.270","Sektor: 42 Production of bulk chemicals<br>År: 2017<br>Utslipp: 1.550","Sektor: 42 Production of bulk chemicals<br>År: 2019<br>Utslipp: 1.760","Sektor: 42 Production of bulk chemicals<br>År: 2020<br>Utslipp: 1.640","Sektor: 42 Production of bulk chemicals<br>År: 2023<br>Utslipp: 1.620","Sektor: 42 Production of bulk chemicals<br>År: 2014<br>Utslipp: 1.780","Sektor: 42 Production of bulk chemicals<br>År: 2015<br>Utslipp: 2.080","Sektor: 42 Production of bulk chemicals<br>År: 2016<br>Utslipp: 1.870","Sektor: 42 Production of bulk chemicals<br>År: 2008<br>Utslipp: 1.230","Sektor: 42 Production of bulk chemicals<br>År: 2010<br>Utslipp: 1.180","Sektor: 42 Production of bulk chemicals<br>År: 2022<br>Utslipp: 1.550","Sektor: 42 Production of bulk chemicals<br>År: 2011<br>Utslipp: 1.150","Sektor: 42 Production of bulk chemicals<br>År: 2024<br>Utslipp: 1.390","Sektor: 42 Production of bulk chemicals<br>År: 2012<br>Utslipp: 1.070","Sektor: 42 Production of bulk chemicals<br>År: 2013<br>Utslipp: 1.840","Sektor: 42 Production of bulk chemicals<br>År: 2018<br>Utslipp: 1.820","Sektor: 42 Production of bulk chemicals<br>År: 2021<br>Utslipp: 1.450"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,100,176,1)","opacity":0.80000000000000004,"size":15.118110236220474,"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,100,176,1)"}},"hoveron":"points","name":"42 Production of bulk chemicals","legendgroup":"42 Production of bulk chemicals","showlegend":false,"xaxis":"x","yaxis":"y12","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":55.452054794520549,"r":7.3059360730593621,"b":40.182648401826491,"l":54.794520547945211},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Utslipp av klimagass i ulike sektorer i Norge","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[2007.2,2024.8],"tickmode":"array","ticktext":["2010","2015","2020"],"tickvals":[2010,2015,2020],"categoryorder":"array","categoryarray":["2010","2015","2020"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y12","title":"","hoverformat":".2f"},"annotations":[{"text":"År","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-21.917808219178088},{"text":"Utslipp av klimagass (tonn CO2-ekv)","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-39.452054794520549},{"text":"10 Aviation","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"20 Combustion of fuels","x":0.5,"y":0.90182648401826482,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"21  Refining of mineral oil","x":0.5,"y":0.81849315068493156,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"24  Production of pig iron or steel","x":0.5,"y":0.73515981735159819,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"29 Production of cement clinker","x":0.5,"y":0.65182648401826493,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"30 Production of lime, or calcination of dolomite/magnesite","x":0.5,"y":0.56849315068493156,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"31 Manufacture of glass","x":0.5,"y":0.48515981735159819,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"32 Manufacture of ceramics","x":0.5,"y":0.40182648401826493,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"34 Production or processing of gypsum or plasterboard","x":0.5,"y":0.31849315068493156,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"35 Production of pulp","x":0.5,"y":0.23515981735159816,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"36 Production of paper or cardboard","x":0.5,"y":0.1518264840182649,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"42 Production of bulk chemicals","x":0.5,"y":0.068493150684931545,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0.93150684931506844,1],"automargin":true,"type":"linear","autorange":false,"range":[487.53684999999996,2406.66615],"tickmode":"array","ticktext":["500","1,000","1,500","2,000"],"tickvals":[500,1000,1500,2000],"categoryorder":"array","categoryarray":["500","1,000","1,500","2,000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0.93150684931506844,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0.84817351598173518,"y1":0.90182648401826482},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.90182648401826482,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0.76484018264840181,"y1":0.81849315068493156},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.81849315068493156,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0.68150684931506855,"y1":0.73515981735159819},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.73515981735159819,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0.59817351598173518,"y1":0.65182648401826493},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.65182648401826493,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0.51484018264840181,"y1":0.56849315068493156},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.56849315068493156,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0.43150684931506855,"y1":0.48515981735159819},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.48515981735159819,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0.34817351598173518,"y1":0.40182648401826493},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.40182648401826493,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0.26484018264840181,"y1":0.31849315068493156},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.31849315068493156,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0.18150684931506858,"y1":0.23515981735159816},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.23515981735159816,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0.098173515981735196,"y1":0.1518264840182649},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.1518264840182649,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":0.068493150684931545},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.068493150684931545,"ysizemode":"pixel"}],"yaxis2":{"type":"linear","autorange":false,"range":[10732.3428,15313.913199999999],"tickmode":"array","ticktext":["11,000","12,000","13,000","14,000","15,000"],"tickvals":[11000,12000,13000,14000,15000],"categoryorder":"array","categoryarray":["11,000","12,000","13,000","14,000","15,000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.84817351598173518,0.90182648401826482],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[1570.4780000000001,2701.1900000000001],"tickmode":"array","ticktext":["1,800","2,100","2,400","2,700"],"tickvals":[1800,2100,2400,2700],"categoryorder":"array","categoryarray":["1,800","2,100","2,400","2,700"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.76484018264840181,0.81849315068493156],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis4":{"type":"linear","autorange":false,"range":[68.425200000000004,102.1688],"tickmode":"array","ticktext":["70","80","90","100"],"tickvals":[70,80,90,100],"categoryorder":"array","categoryarray":["70","80","90","100"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.68150684931506855,0.73515981735159819],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis5":{"type":"linear","autorange":false,"range":[817.40805,1253.90895],"tickmode":"array","ticktext":["900","1,000","1,100","1,200"],"tickvals":[900,1000,1100,1200],"categoryorder":"array","categoryarray":["900","1,000","1,100","1,200"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.59817351598173518,0.65182648401826493],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis6":{"type":"linear","autorange":false,"range":[209.40674999999999,481.57424999999995],"tickmode":"array","ticktext":["300","400"],"tickvals":[300,400],"categoryorder":"array","categoryarray":["300","400"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.51484018264840181,0.56849315068493156],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis7":{"type":"linear","autorange":false,"range":[27.855849999999997,46.537150000000004],"tickmode":"array","ticktext":["30","35","40","45"],"tickvals":[30,35,40,45],"categoryorder":"array","categoryarray":["30","35","40","45"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.43150684931506855,0.48515981735159819],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis8":{"type":"linear","autorange":false,"range":[9.0528999999999993,49.931100000000001],"tickmode":"array","ticktext":["10","20","30","40"],"tickvals":[10,20,30,40],"categoryorder":"array","categoryarray":["10","20","30","40"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.34817351598173518,0.40182648401826493],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis9":{"type":"linear","autorange":false,"range":[22.568649999999998,40.792349999999999],"tickmode":"array","ticktext":["25","30","35","40"],"tickvals":[25,30,35,40],"categoryorder":"array","categoryarray":["25","30","35","40"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.26484018264840181,0.31849315068493156],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis10":{"type":"linear","autorange":false,"range":[116.47255,272.70445000000001],"tickmode":"array","ticktext":["120","160","200","240"],"tickvals":[120,160,200,240],"categoryorder":"array","categoryarray":["120","160","200","240"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.18150684931506858,0.23515981735159816],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis11":{"type":"linear","autorange":false,"range":[5.0587999999999997,166.12520000000001],"tickmode":"array","ticktext":["40","80","120","160"],"tickvals":[40,80,120,160],"categoryorder":"array","categoryarray":["40","80","120","160"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.098173515981735196,0.1518264840182649],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis12":{"type":"linear","autorange":false,"range":[1014.6546500000001,2128.3463500000003],"tickmode":"array","ticktext":["1,250","1,500","1,750","2,000"],"tickvals":[1250,1500,1750,2000],"categoryorder":"array","categoryarray":["1,250","1,500","1,750","2,000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.068493150684931545],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"sector","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"x unified","barmode":"relative","height":4000},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"displayModeBar":true},"source":"A","attrs":{"7dc547776f7":{"x":{},"y":{},"colour":{},"text":{},"type":"scatter"},"7dc22f976dd":{"x":{},"y":{},"colour":{},"text":{}}},"cur_data":"7dc547776f7","visdat":{"7dc547776f7":["function (y) ","x"],"7dc22f976dd":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":{"render":[{"code":"\nfunction(el, x) {\n  var plot = el;\n  plot.on('plotly_click', function(data) {\n    if(!data || !data.points || data.points.length === 0) return;\n    var xval = data.points[0].x;\n    var vline = {\n      type: 'line',\n      x0: xval, x1: xval,\n      y0: 0, y1: 1,\n      xref: 'x', yref: 'paper',\n      line: {color: 'black', width: 1.5, dash: 'dot'}\n    };\n    var shapes = (plot.layout.shapes || []).filter(function(s){ return s.name !== 'click_vline'; });\n    vline.name = 'click_vline';\n    shapes.push(vline);\n    Plotly.relayout(plot, {'shapes': shapes});\n  });\n}\n","data":null}]}}</script>
</div>
</div>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>